(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{292:function(e,t,s){"use strict";s.d(t,"a",(function(){return j}));var o=s(3),c=s(28),n=s(1),i=(s(0),s(11)),r=s(17),a=function(e){return{isAuth:e.authState.isAuth}};function j(e){return Object(r.b)(a)((function(t){var s=t.isAuth,r=Object(c.a)(t,["isAuth"]);return s?Object(n.jsx)(e,Object(o.a)({},r)):Object(n.jsx)(i.a,{to:"/login"})}))}},293:function(e,t,s){e.exports={img:"ProfileInfo_img__2BcLQ",descriptionBlock:"ProfileInfo_descriptionBlock__3wsbG",contact:"ProfileInfo_contact__14-mn"}},294:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__3gZQt",posts:"MyPosts_posts__1Ns4x"}},295:function(e,t,s){e.exports={item:"Post_item__xU5gN"}},296:function(e,t,s){"use strict";s.r(t);var o=s(3),c=s(37),n=s(38),i=s(42),r=s(40),a=s(1),j=s(0),l=s.n(j),u=s(98),b=s(293),d=s.n(b),p=s(43),h=function(e){var t=Object(j.useState)(!1),s=Object(u.a)(t,2),o=s[0],c=s[1],n=Object(j.useState)(e.status),i=Object(u.a)(n,2),r=i[0],l=i[1];Object(j.useEffect)((function(){l(e.status)}),[e.status]);return Object(a.jsxs)("div",{children:[!o&&Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Status"}),":",Object(a.jsx)("span",{onDoubleClick:function(){c(!0)},children:e.status||"----"})]}),o&&Object(a.jsx)("div",{children:Object(a.jsx)("input",{autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(r)},onChange:function(e){l(e.currentTarget.value)},value:r})})]})},O=s(108),f=function(e){var t=e.contactTitle,s=e.contactValue;return Object(a.jsxs)("div",{className:d.a.contact,children:[Object(a.jsx)("b",{children:t}),":",s]})},x=function(e){var t=e.profile,s=e.isOwner,o=e.openEditMode;return Object(a.jsxs)("div",{children:[s&&Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:o,children:"EDIT"})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Full name"}),": ",t.fullName]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"About me"}),": ",t.aboutMe]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(a.jsx)(f,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},m=s(90),v=s(130),P=s(72),g=s(34),k=s(51),S=s.n(k),A=Object(v.a)({form:"edit-mode-profile"})((function(e){var t=e.handleSubmit,s=e.profile,o=e.error;return Object(a.jsxs)("form",{onSubmit:t,children:[Object(a.jsx)("div",{children:Object(a.jsx)("button",{children:"SAVE"})}),o&&Object(a.jsx)("div",{className:S.a.formSummaryError,children:o}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Full Name"}),": ",Object(a.jsx)(m.a,{placeholder:"Full Name",name:"fullName",component:g.a,validate:[P.b]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"About Me"}),": ",Object(a.jsx)(m.a,{placeholder:"About Me",name:"aboutMe",component:g.b,validate:[P.b]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Looking For A Job"}),": ",Object(a.jsx)(m.a,{type:"checkbox",value:"LookingForAJob",name:"LookingForAJob",component:g.a})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Looking For A Job Description"}),": ",Object(a.jsx)(m.a,{placeholder:"Looking For A Job Description",name:"lookingForAJobDescription",component:g.b,validate:[P.b]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Contacts"}),": ",Object.keys(s.contacts).map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("b",{children:[e,":"]}),Object(a.jsx)(m.a,{placeholder:e,name:"contacts.".concat(e),component:g.a})]},e)}))]})]})})),w=function(e){var t=e.profile,s=e.status,o=e.updateStatus,c=e.isOwner,n=e.savePhoto,i=e.saveNewProfileData,r=Object(j.useState)(!1),l=Object(u.a)(r,2),b=l[0],f=l[1];return t?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:d.a.descriptionBlock,children:[Object(a.jsx)("img",{src:t.photos.large||O.a,alt:"nice view",className:d.a.mainPhoto}),c&&Object(a.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}}),b?Object(a.jsx)(A,{profile:t,initialValues:t,onSubmit:function(e){i(e).then((function(){f(!1)}))}}):Object(a.jsx)(x,{profile:t,isOwner:c,openEditMode:function(){f(!0)}}),Object(a.jsx)(h,{status:s,updateStatus:o})]})}):Object(a.jsx)(p.a,{})},_=s(97),y=s(41),N=s(294),F=s.n(N),D=s(295),J=s.n(D),M=function(e){return Object(a.jsxs)("div",{className:J.a.item,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:"https://it-doc.info/wp-content/uploads/2019/06/avatarka_dlya_devushki_.jpg",alt:"some user"}),e.message]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"like"})," ",e.likesCount]})]})},C=l.a.memo((function(e){var t=Object(y.a)(e.posts).reverse().map((function(e){return Object(a.jsx)(M,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(a.jsxs)("div",{className:F.a.postsBlock,children:[Object(a.jsx)("h3",{children:"My posts"}),Object(a.jsx)(B,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(a.jsx)("div",{className:F.a.posts,children:t})]})})),I=Object(P.a)(10),B=Object(v.a)({form:"profileAddNewPostForm"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("div",{children:Object(a.jsx)(m.a,{name:"newPostText",placeholder:"Add new post",component:g.b,validate:[P.b,I]})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{children:"Add post"})})]})})),T=C,L=s(17),E=Object(L.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(_.a)(t))}}}))(T),U=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(w,{profile:e.profile,isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatusProfile,savePhoto:e.savePhoto,saveNewProfileData:e.saveNewProfileData}),Object(a.jsx)(E,{})]})},V=s(11),z=s(292),Q=s(10),G=function(e){Object(i.a)(s,e);var t=Object(r.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatusProfile(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(U,Object(o.a)(Object(o.a)({},this.props),{},{profile:this.props.profile,isOwner:!this.props.match.params.userId,status:this.props.status,updateStatusProfile:this.props.updateStatusProfile,savePhoto:this.props.savePhoto}))})}}]),s}(l.a.Component);t.default=Object(Q.d)(Object(L.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status?e.profilePage.status:"",authorizedUserId:e.authState.id,isAuth:e.authState.isAuth}}),{getUserProfile:_.d,getStatusProfile:_.c,updateStatusProfile:_.g,savePhoto:_.f,saveNewProfileData:_.e}),V.f,z.a)(G)}}]);
//# sourceMappingURL=3.7166be70.chunk.js.map